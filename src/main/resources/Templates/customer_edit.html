<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Tailor Shop</title>
  <link rel="stylesheet" th:href="@{/css/dashboard.css}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
</head>
<body>
<div class="dashboard-container">
  <!-- Organisation Logo and Name -->
  <div class="organisation-header">
    <div class="organisation-info">
      <div class="organisation-logo">
        <img th:src="@{/images/nameLogoHodotNoBG.png}" alt="Hodot Signature - Dashboard Home">
      </div>
      <div class="organisation-name">
        <h1>Hodot Signature</h1>
      </div>
    </div>
    <div class="dashboard-links">
      <a href="/dashboard">Home</a> |
      <a href="/contact">Contact Us</a> |
      <a href="/about-us">About Us</a> |
      <!-- Social media links with icons -->
      <!--<div class="social-links">-->
      <a href="#" target="_blank"><i class="fab fa-facebook"></i></a>
      <a href="#"><i class="fa-brands fa-twitter"></i></a>
      <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fa-brands fa-linkedin"></i></a>
      <a href="#"><i class="fa-brands fa-tiktok"></i></a>
      <a href="#" target="_blank"><i class="fab fa-whatsapp"></i></a>|
      <a href="/logout" class="logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </div>
  </div>

  <!-- Two Pane Layout -->
  <div class="two-pane-layout">
    <!-- Left Pane (smaller) -->
    <div class="left-pane">
      <div class="section customers">
        <div class="card">
          <h3><a href="/customers">Customers</a></h3>
          <!--<div class="pane-content">
              <ul>
                  <li th:each="customer : ${customers}" th:text="${customer.name}"></li>
              </ul>
              <p>Total: <span th:text="${#lists.size(customers)}"></span></p>
          </div>-->
        </div>
      </div>
      <div class="section orders">
        <div class="card">
          <h3><a href="/orders">Orders</a></h3>
          <!--<div class="pane-content">
              <ul>
                  <li th:each="order : ${orders}" th:text="${order.id} + ' - ' + ${order.status}"></li>
              </ul>
              <p>Total Orders: <span th:text="${#lists.size(orders)}"></span></p>
          </div>-->
        </div>
      </div>
      <div class="section invoices">
        <div class="card">
          <h3><a href="/invoices">Invoices</a></h3>
          <!--<div class="pane-content">
              <ul>
                  <li th:each="invoice : ${invoices}" th:text="${invoice.id} + ' - ' + ${invoice.amount}"></li>
              </ul>
              <p>Total Amount: <span th:text="${totalAmount}"></span></p>
          </div>-->
        </div>
      </div>
    </div>

    <!-- Right Pane (bigger main page)-->
    <!-- customers.html -->
    <div class="right-pane">
      <div class="container mt-5">

        <form th:action="@{/customers/{id}/edit(id=${customer.id})}" th:object="${customer}" method="post" class="contact-form" id="update-form">
          <h3 class="text-center">Edit Customer</h3>
          <div class="form-row">
            <label for="name">Full Name:</label>
            <input type="text" id="name" name="name" th:value="${customer.name}" />
          </div>
          <div class="form-row">
            <label for="phone">Phone No:</label>
            <input type="text" id="phone" name="phone" th:value="${customer.phone}" />
          </div>
          <div class="form-row">
            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
              <option value="">Select Gender</option>
              <option th:selected="${customer.gender == 'Male'}" value="Male">Male</option>
              <option th:selected="${customer.gender == 'Female'}" value="Female">Female</option>
            </select>
          </div>
          <div class="form-row">
            <label for="email">Email ID:</label>
            <input type="text" id="email" name="email" th:value="${customer.email}" />
          </div>
          <div class="form-row">
            <label for="address">Address:</label>
            <input type="text" id="address" name="address" th:value="${customer.address}" />
          </div>

          <!-- Measurement Section -->
          <h2>Measurements</h2>
          <input type="hidden" id="measurements" th:value="${measurementsJson}" />
          <div id="editMeasurements"></div>
          <div th:if="${error != null}">
            <p th:text="${error}"></p>
          </div>

            <div>
              <button type="button" id="addMeasurement" class="add-customer-btn" style="margin-bottom: 10px;">Add Measurement</button>
            </div>

          <div style="display: flex; justify-content: space-between;">
            <div>
              <button type="button" id="back" class="add-customer-btn" style="margin-bottom: 10px;" th:onclick="|window.location.href='@{/customers}'|">Back</button>
            </div>
            <div class="button-container">
              <button type="submit" class="add-customer-btn" id="update-btn">Update Customer</button>
            </div>
          </div>
        </form>

        <script th:src="@{~/js/measurementEdit.js}"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      </div>
    </div>
  </div>
  <!-- Footer -->
  <div class="footer">
    <p>&copy; <span th:text="${#dates.year(#dates.createNow())}"></span> Your Company. All rights reserved.</p>
    <p>Powered by <strong>Hodot Signature</strong></p>
  </div>
</div>
</body>
</html>